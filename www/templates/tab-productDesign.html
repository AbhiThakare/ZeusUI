<div style="">
	<ion-view hide-nav-bar="true" style="" class="" id="page17" title="">
		<ion-content scroll="true" padding="true" class="manual-ios-statusbar-padding sidepadding">
			<!-- <h2 id="signup-heading2" style="color:#000000;font-weight:400;text-align:center;" class=" ">Product Design</h2> -->
			<div ng-show="successMessage" class="success">Form created successfully </div>
			<div ng-show="errorMessage"class="error">There was some problem creating new form</div>
			<form class="list animated bounceIn " name="productDesignForm" class="css-form" novalidate id="signup-form4">
			<fieldset>
			 <legend> Product Design</legend>
				<div class="row responsive-sm">
					<div class="col col-30">
						<span class="input-label">Select Category:</span>
					</div>
					<div class="col col-60">
						<select  name="selectCategory" required="" ng-model="input.selectCategory" ng-change="clearData()">
							<option ng-repeat="option in categoryOptions" ng-selected="input.selectCategory"  ng-value="option.categoryId">{{option.name}}</option>
						</select>
						<button class=" button-icon ion-plus balanced flat" ng-click="addNewCategory()"></button>
						<div ng-show="productDesignForm.$submitted || productDesignForm.selectCategory.$touched">
							<div style="color:red;margin:5px;padding:5px;" ng-show="productDesignForm.selectCategory.$error.required">Please select category.</div>
						</div>
					</div>
				</div>
				
				<div class="row responsive-sm">
					<div class="col col-30">
						<span class="input-label">Work on product or template:</span>
					</div>
					<div class="col col-60">
						<input type="radio" ng-disabled="!input.selectCategory" class="radio" name="WPT" ng-model="data.WPT" ng-value="'product'" ng-change="input.selectCategory && newValue('no',input.selectCategory)"> &nbsp;&nbsp;Product&nbsp;&nbsp;
						<input type="radio" ng-disabled="!input.selectCategory" class="radio" name="WPT" ng-model="data.WPT" ng-value="'template'" ng-change="input.selectCategory && newValue('yes',input.selectCategory)">&nbsp;&nbsp;Template
						<div ng-show="productDesignForm.$submitted || productDesignForm.WPT.$touched">
							<div style="color:red;margin:5px;padding:5px;" ng-show="productDesignForm.WPT.$error.required">Please select work type.</div>
						</div>
					</div>
				</div>
				
				<div class="row responsive-sm">
					<div class="col col-30">
						<span class="input-label">Select Product:</span>
					</div>
					<div class="col col-60">
						<select  name="selectProduct" required="" ng-model="input.selectProduct" ng-change="(input.selectProduct!=='' && input.selectCategory!=='' ) && fetchExsitingFields(input.selectProduct)">
							<option ng-repeat="option in productOptions" ng-selected="input.selectProduct" ng-value="option.productId">{{option.name}}</option>
						</select>
						<button class="button-icon ion-plus flat"  ng-disabled="!input.selectCategory && !data.WPT" ng-class="{balanced : input.selectCategory && data.WPT }" ng-click="input.selectCategory && addNewProduct(input.selectCategory)"></button>
						<div ng-show="productDesignForm.$submitted || productDesignForm.selectProduct.$touched">
							<div style="color:red;margin:5px;padding:5px;" ng-show="productDesignForm.selectProduct.$error.required">Please select product.</div>
						</div>
					</div>
				</div>
				</fieldset>
				<div style="height: 10px;" class="spacer"></div>
				<ion-list>
					<div ng-repeat="group in groups">
						<ion-item class="item-stable" ng-click="toggleGroup(group)" ng-class="{active: isGroupShown(group)}">
							<i class="icon" ng-class="isGroupShown(group) ? 'ion-minus' : 'ion-plus'"></i>
							{{group.name}}
						</ion-item>
						<ion-item class="item-accordion" ng-repeat="field in entity" ng-show="isGroupShown(group) && field.groupId === group.groupId">
							<ng-form name="form">
								<!-- TEXT FIELDS -->
								<div ng-if="field.inputType=='text' || field.inputType=='email' || field.inputType=='password'" class="row responsive-sm">
									<div class="col col-30">
										<span class="input-label">{{field.labelName}}</span>
									</div>
									<div class="col col-60">
										<input type="{{ field.inputType }}" placeholder="Please enter {{field.labelName}} "  name="name" ng-model="field.defaultValue"/>
										<button class=" button-icon ion-edit flat energized"  ng-click="productDesignForm.$valid && editField({{field.fieldId}})"></button>
									</div>
								</div>
								<!-- TEXTAREA FIELDS -->
								<div ng-if="field.inputType=='textarea'" class="row responsive-sm">
									<div class="col col-30">
										<span class="input-label">{{field.labelName}}</span>
									</div>
									<div class="col col-60">
										<textarea ng-model="field.defaultValue" rows="" cols="" placeholder="Please enter {{field.labelName}} "></textarea>
										<button class=" button-icon ion-edit flat energized"  ng-click="productDesignForm.$valid && editField({{field.fieldId}})"></button>
									</div>
								</div>
								<!-- RADIO FIELDS -->
								  <label ng-if="field.inputType=='radio'" class="form-group " id="signup-input4" name="name">
									<span class="input-label">{{field.labelName}}</span>
									<div class="checkbox" ng-repeat="option in field.options" >
									<label>                
									<input type="{{ field.inputType}}" data-ng-model="field.data"  name="taskGroup"  id="{{option.keyName}}" value="{{option.keyValue}}">{{option.keyName}}
									</label>
									</div>
									</label>
								<!-- CHECKBOX FIELDS -->
								 <label ng-if="field.inputType=='checkbox'"  class="form-group " id="signup-input4" name="name">
									<span class="input-label">{{field.labelName}}</span>
									<div class="col-sm-6">
									   <div class="checkbox" ng-repeat="option in field.options" >
									<label>
										<input type="checkbox" data-ng-model="option.data"  name="taskGroup"  id="{{option.keyName}}" value="{{option.keyValue}}" >{{option.keyName}}
									</label>
									</div>
									</div>
									</label> 
								<!-- SELECTBOX FIELDS -->
								<label ng-if="field.inputType=='select'" class="item item-input " id="signup-input4" name="selectCategory">
									<span class="input-label">{{field.labelName}}</span>
									<select  data-ng-model="field.data">
									   <option ng-repeat="option in field.options" ng-value="option.keyValue">{{option.keyName}}</option>
									</select>
									
									</label>
							</ng-form>
						</ion-item>
					</div>
				</ion-list>
				<div style="height: 10px;" class="spacer"></div>
				<button class=" button-icon ion-plus flat balanced"  ng-click="productDesignForm.$valid && addNewField(input.selectProduct)">  Add Field </button>
				<div style="height: 10px;" class="spacer"></div>
				<fieldset ng-show="entity.length > 0">
			    <legend> Unallocated Fields </legend>
				<div style="height: 5px;" class="spacer"></div>
				<div  class="row responsive-sm" ng-repeat="option in entity | filter:{groupId: 0}">
					<div class="col">{{option.name}} <button class=" button-icon ion-edit flat energized"  ng-click="productDesignForm.$valid && editField({{option.fieldId}})"></button></div>
				</div>
				</fieldset>
				<div style="height: 10px;" class="spacer"></div>
				<div class="row" style="margin-bottom: 68%;">
					<div class="col text-center">
						
					</div>
				</div>
				 
			</form>
		</ion-content>
	</ion-view>
</div>
